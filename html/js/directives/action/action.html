<md-content ng-cloak>

    <!-- add panel -->
    <md-content ng-show="actionCtl.showAddPanel" md-theme="dark" class="slide-panel">
        <!-- upload new sound -->
        <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
                <div upload-file selected-file="actionCtl.uploadFile" label="Upload script"></div>
            </md-input-container>
        </div>

        <!-- close -->
        <section layout="row">
            <md-button class="md-raised" ng-click="actionCtl.closeAddPanel()" aria-label="Close">Close</md-button>
        </section>
    </md-content>

    <!-- list -->
    <md-table-container>
        <table md-table>
        <thead md-head md-order="columnOrder">
            <tr md-row>
                <th md-column md-order-by="name">Script</th>
                <th md-column md-order-by="last">Last execution</th>
                <th md-column>Actions</th>
            </tr>
        </thead>
        <tbody md-body>
            <tr md-row md-auto-select ng-repeat="script in actionCtl.scripts | orderBy:columnOrder">
                <td md-cell>
                    <del ng-if="script.disabled">{{script.name}}</del>
                    <span ng-if="!script.disabled">{{script.name}}</span>
                </td>
                <td md-cell>{{script.last_execution | hrDatetime}}</td>
                <td md-cell>
                    <md-button class="md-icon-button" ng-click="actionCtl.disableScript(script.name, true)" ng-if="!script.disabled" aria-label="Disable script">
                        <md-tooltip md-direction="bottom">Disable script</md-tooltip>
                        <md-icon md-font-set="material-icons">lock</md-icon>
                    </md-button>
                    <md-button class="md-icon-button" ng-click="actionCtl.disableScript(script.name, false)" ng-if="script.disabled" aria-label="Enable script">
                        <md-tooltip md-direction="bottom">Enable script</md-tooltip>
                        <md-icon md-font-set="material-icons">lock_open</md-icon>
                    </md-button>
                    <md-button class="md-icon-button" ng-click="actionCtl.deleteScript(script.name)" aria-label="Delete">
                        <md-tooltip md-direction="bottom">Delete script</md-tooltip>
                        <md-icon md-font-set="material-icons">delete</md-icon>
                    </md-button>
                </td>
            </tr>
        </tbody>
        <tfoot md-foot>
            <tr md-row></tr>
            <tr md-row></tr>
        </tfoot>
        </table>
    </md-table-container>

    <!-- toolbar -->
    <md-fab-speed-dial md-direction="left" class="md-scale md-fab-bottom-right">
        <md-fab-trigger>
            <md-button ng-click="actionCtl.openAddPanel()" class="md-fab md-primary" aria-label="Add script">
                <md-icon md-font-set="material-icons">add_circle</md-icon>
            </md-button>
        </md-fab-trigger>
    </md-fab-speed-dial>

</md-content>

